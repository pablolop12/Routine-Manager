<div class="base">
  <div class="container mt-4">

    <!-- Encabezado Búsqueda/Filtro -->
    <div class="headerSection mb-3 d-flex flex-column flex-md-row w-100" style="max-height: 100px;">
      <div class="input-group flex-nowrap mb-2 mb-md-0 me-0 me-md-2" style="flex: 1;">
        <span class="input-group-text yellow-background" id="addon-wrapping"><i class="bi bi-search"></i></span>
        <input type="text" class="form-control search-bar" placeholder="Buscar una comida ..." [(ngModel)]="searchTerm" (input)="filterComidas()" />
      </div>

      <div class="d-flex flex-column flex-md-row mb-3 mb-md-0" style="flex: 0 1 500px;">
        <div class="input-group mb-2 mb-md-0 me-0 me-md-2">
          <select class="form-select" [(ngModel)]="selectedTipoComida">
            <option value="">Selecciona un tipo de comida</option>
            <option *ngFor="let tipo of tiposComida" [value]="tipo">{{ tipo }}</option>
          </select>
          <button class="btn btn-warning" (click)="filterComidas()">Aplicar</button>
        </div>
      </div>
    </div>

    <div class="table-responsive">
      <table class="table table-striped custom-table">
        <thead>
          <tr>
            <th>TIPO DE COMIDA</th>
            <th>NOMBRE</th>
            <th>DESCRIPCIÓN</th>
            <th>CALORÍAS</th>
            <th>IMAGEN</th>
            <th class="text-center">ACCIONES</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let comida of filteredComidas">
            <td>{{ comida.tipoComida }}</td>
            <td>{{ comida.nombre }}</td>
            <td>{{ comida.descripcion }}</td>
            <td>{{ comida.calorias }}</td>
            <td><img [src]="comida.imagenUrl" alt="{{ comida.nombre }}" width="50"></td>
            <td class="text-center">
              <button class="btn btn-warning me-2" (click)="editComida(comida.id)">Editar</button>
              <button class="btn btn-danger" (click)="deleteComida(comida.id)">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
